<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SignIn</title>
    <link rel="stylesheet" href="form.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>

    <div class="container">
        <!-- <div class="row"> -->
        <div class="col-3"></div>
        <div class="col-lg-6 offset-lg-3 ">
            <form name="form" id="data-form" onsubmit=" return validation();" action="home1.html" method="">
                <div class="card">
                    <div class="card-header" style="background-color: rgb(60, 241, 60);">SIGN IN</div>
                    <div class="card-body">
                        <div class="form-group">
                            <label for="name">Name</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-user" id="name-validate"></i>
                                    </span>
                                </div>
                                <input type="text" id="name" name="name" placeholder="Enter your Name"
                                    class="form-control name-field name-validate" aria-describedby="name-validate">
                                <div class="invalid-feedback">Invalid Name</div>
                                <!-- <div class="valid-feedback">correct Name</div> -->
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="age">Age</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-calendar-days" id="age-validate"></i>
                                    </span>
                                </div>
                                <input type="number" id="age" name="age" placeholder="Enter your age"
                                    class="form-control age-validate" aria-describedby="age-validate">
                                <div class="invalid-feedback">Enter correct age</div>
                                <!-- <div class="valid-feedback">Good</div> -->
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-phone" id="phone-validate"></i>
                                    </span>
                                </div>
                                <input type="tel" id="phone" name="phone" placeholder="+91 78XXXXXX79" maxlength="10"
                                    oninput="this.value = this.value.replace(/[^0-9]/g, '')"
                                    class="form-control phone-validate" aria-describedby="phone-validate">
                                <div class="invalid-feedback">Invalid Mobail</div>
                                <!-- <div class="valid-feedback">Good</div> -->
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="dateTimePicker">Date</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-calendar-days" id="date-validate"></i>
                                    </span>
                                </div>
                                <input type="datetime-local" id="dateTimePicker" name="date"
                                    class="form-control date-validate" aria-describedby="date-validate"
                                    placeholder="YYYY-MM-DDTHH:MM">

                                <div class="invalid-feedback">Invalid Date</div>
                                <!-- <div class="valid-feedback">Good</div> -->
                            </div>
                        </div>
                        <!-- <label for="dateTimePicker">Select a date and time:</label>
                            <input type="datetime-local" id="dateTimePicker"> -->
                        <div class="form-group">
                            <label for="mail">Email</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class=" fa fa-envelope" id="email-validate"></i>
                                    </span>
                                </div>
                                <input type="text" id="email" name="email" placeholder="Enter your Email"
                                    class="form-control email_control email-validate" aria-describedby="email-validate">
                                <div class="invalid-feedback">Invalid Email</div>
                                <!-- <div class="valid-feedback">goo</div> -->
                                <!-- <P>Invalid Email</P> -->
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="pass">Password</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-key" id="password-validate"></i>
                                    </span>
                                </div>
                                <input type="password" class="form-control password-validate" id="pass"
                                    placeholder="P@ssword123"
                                    title="Must contain at least one number and one uppercase and lowercase letter, and at least 6 or more characters"
                                    aria-describedby="password-validate">
                                <!-- pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}"
                                        title="Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"
                                        required> -->
                                <div class="invalid-feedback">Invalid Password</div>
                                <!-- <div class="valid-feedback">Good</div> -->
                            </div>

                        </div>
                        <div class="form-group">
                            <label for="gender">Gender</label><br>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-person"></i>
                                    </span>
                                </div>
                                <div class="btn-group btn-toggle gender">
                                    <button id="male" class="btn btn-primary active"
                                        onclick="validateGender('M')">Male</button>
                                    <button id="female" class="btn btn-default active"
                                        onclick="validateGender('F')">Female</button>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="location">City</label>
                            <div class="input-group">
                                <div class="input-group-prepend">
                                    <span class="input-group-text">
                                        <i class="fa-solid fa-location-dot" id="location-validate"></i>
                                    </span>
                                </div>
                                <select name="location" id="location" class="form-control location-validate"
                                    aria-describedby="location-validate">
                                    <option value="">SELECT</option>
                                    <option value="CHENNAI">CHENNAI</option>
                                    <option value="MUMBAI">MUMBAI</option>
                                    <option value="BANGLORE">BANGALORE</option>
                                    <option value="DELHI">DELHI</option>

                                </select>
                                <div class="invalid-feedback">Select the location</div>
                                <!-- <div class="valid-feedback">Good</div> -->
                            </div>
                        </div>
                        <div class="form-group">
                            <textarea name="address" id="address" cols="45" rows="4" placeholder="Enter your address"
                                class="form-control"></textarea>
                        </div>
                        <div class="form-group form-check mb-5">
                            <label for="terms">
                                <input type="checkbox" id="terms" name="terms" value="accetp terms and condition"
                                    style="margin-right: 7px;">I accept the
                                <a href="#">terms and conditions</a>
                            </label>
                        </div>
                        <div class="form-group d-flex justify-content-around">
                            <input type="reset" class="btn btn-success">
                            <!-- <button class="btn btn-success">SUBMIT</button> -->
                            <input type="submit" class="btn btn-success submit" id="submitButton">

                        </div>

                    </div>
                </div>
                <!-- </div> -->
            </form>

            <!-- <div class="col-3"></div> -->
        </div>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm"
        crossorigin="anonymous"></script>
    <script src="form.js"></script>
    <script>
        var selectedGender = null;
        function validateGender(gender) {
            selectedGender = gender;
            // console.log(selectedGender);
        }

        function updateDetails() {

            // Get the form data
            var name = document.getElementById("name").value;
            var email = document.getElementById("email").value;
            var age = document.getElementById("age").value;
            var phone = document.getElementById("phone").value;
            var date = document.getElementById("dateTimePicker").value;
            var pass = document.getElementById("pass").value;
            var gender = selectedGender;
            var location = document.getElementById("location").value;

            // Input date and time string
            const inputDateTime = date;

            // Parse the input string as a Date object
            const parsedDate = new Date(inputDateTime);

            // Get the date components
            const day = parsedDate.getDate();
            const month = parsedDate.toLocaleString('default', { month: 'short' }); // Get the abbreviated month
            const year = parsedDate.getFullYear();

            // Get the time components
            const hours = parsedDate.getHours();
            const minutes = parsedDate.getMinutes();

            // Format the date and time
            var formattedDateTime = `${day.toString().padStart(2, '0')}-${month.toString().padStart(2, '0')}-${year} ${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}`;


            // Store the data
            localStorage.setItem("userName", name);
            localStorage.setItem("userEmail", email);
            localStorage.setItem("userAge", age);
            localStorage.setItem("userPhone", phone);
            localStorage.setItem("dateTime", formattedDateTime);
            localStorage.setItem("userDate", date);
            localStorage.setItem("userPassword", pass);
            if (gender == null) {
                localStorage.setItem("userGender", 'M');
            } else {
                localStorage.setItem("userGender", gender);
            }
            localStorage.setItem("userLocation", location);

            window.location.href = "home1.html";
        };


        //disable past date from calender
        $(document).ready(function () {
            // Get the current date and time in the format yyyy-mm-ddThh:mm
            var now = new Date();
            var formattedNow = now.toISOString().slice(0, 16);

            // Set the 'min' attribute of the datetime-local input to the current date and time
            $('#dateTimePicker').attr('min', formattedNow);
        });


    </script>
</body>

</html>